<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"models_index.js.html":{"id":"models_index.js.html","title":"Source: models/index.js","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongothrowErrorcreateFlarumFoldercreateConfigFilesluglifygetFalseDiscussionListModelFindexecuteAngulargetDiscussionssignUplogIn Source: models/index.js var mongoose = require('mongoose'); var Schema = mongoose.Schema; // var db = mongoose.connection; // var P = require('bluebird'); var bcrypt = require('bcrypt-nodejs'); var P = require('bluebird'); var debug = require('debug')('flarum:dbModels'); var userSchema = new Schema({ _id: String, name: String, username: String, email: String, password: String, token: String, lastLoggedIn: String, createdIn: String, avatar: String, admin: Boolean, userId: Number, github: { id: String }, }); /** * Generate hash for password, aka encrypt password * * @param {String} password - the password entered * * @return string **/ userSchema.methods.generateHash = function (password) { // return bcrypt.hashSync(password, bcrypt.genSaltSync(12), null); }; /** * Check if password entered is right * Compares encrypted password with entered password * * @param {String} password * * @return boolean * * @example {@lang javascript} * user.validPassword(&quot;pass1234&quot;) **/ userSchema.methods.validPassword = function (password) { // console.log(this.password); return bcrypt.compareSync(password, this.password); }; var forumSettingsSchema = new Schema({ name: String, description: String, content: Schema.Types.Mixed }); var forumTagsSchema = new Schema({ _id: String, name: String, slug: String, description: String, color: String, default_sort: String, is_restricted: Boolean, is_hidden: Boolean, discussions_count: Number }); var forumPostsSchema = new Schema({ title: String, content: String, replyCount: Number, tags: Array, start_time: Date, start_user_id: { type: Number, ref: 'User' }, start_post_id: Number, last_time: Date, last_user_id: { type: Number, ref: 'User' }, last_post_id: Number, last_post_number: Number, is_approved: Boolean, is_locked: Boolean, is_sticky: Boolean, deleted: Boolean, deletedForever: Boolean }); // SCHEMAS var User = mongoose.model('User', userSchema); var ForumSetting = mongoose.model('ForumSetting', forumSettingsSchema); var ForumTag = mongoose.model('ForumTag', forumTagsSchema); var ForumPost = mongoose.model('ForumPost', forumPostsSchema); /** * Instead of Model.find(), uses Model.aggregate() to look for documents * Supposedly &quot;learns&quot; from what it does... * * @param {Schema} model - the model to find the documents in; ex: User, ForumSetting * @param {Object} what - the object look for documents, aka Model.find(OBJECT), but using Model.match * @param {Function} callback - callback function * * @example {@lang javascript} * ModelFind(User, { username: &quot;username&quot; }, function (err, user) { * if (err) throw err; * console.log(user); * }) **/ var ModelFind = function (model, what, callback) { // P.resolve(model.aggregate().match(what).exec()).then(function (doc) { callback(null, doc) }).catch(function (err) { callback(err, null) }); } var GetLatestId = function (model, callback) { ModelFind(model, { }, function (err, what) { callback(null, what &amp;&amp; (what.length + 1) || 1); }) } module.exports = { user: User, forum: { settings: ForumSetting, tags: ForumTag, posts: ForumPost }, find: ModelFind, latestId: GetLatestId }; × Search results Close "},"config_functions.js.html":{"id":"config_functions.js.html","title":"Source: config/functions.js","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongothrowErrorcreateFlarumFoldercreateConfigFilesluglifygetFalseDiscussionListModelFindexecuteAngulargetDiscussionssignUplogIn Source: config/functions.js var mongoose = require('mongoose'); var path = require('path'); var fs = require('fs'); var debugError = require('debug')('flarum:error'); var connected; /** * Connect to mongodb via mongoose * * @param {Object} mongo - object containing host &amp; database; optional: username &amp; password * @param {Function} callback - callback function * * @return object **/ var connectMongo = function (mongo, callback) { var connected = false; var mongoUrl = ''; if (!mongo || typeof mongo !== 'object') return { error: 'INVALID ARGUMENTS: No &quot;mongo&quot; typeof object argument found', mongo: null, }; if (mongo.host &amp;&amp; mongo.database &amp;&amp; !mongo.username &amp;&amp; !mongo.password) { mongoUrl = 'mongodb://' + mongo.host + '/' + mongo.database; mongoose.connect(mongoUrl); mongoose.connection.on('error', function (err) { connected = true; if (!callback) { return { error: 'Could not connect to MongoDB; ' + err, mongo: null }; } else { callback('Could not connect to MongoDB; ' + err, null); } }); mongoose.connection.on('open', function () { connected = true; if (callback) callback(null, mongoose.connection); return { error: null, mongo: true }; }); setTimeout(function () { if (!connected) { if (!callback) { return { error: 'Could not connect to MongoDB; ERROR: Timeout', mongo: null, }; } else { callback('Could not connect to MongoDB; ERROR: Timeout', null); } } }, 7500); } else if (mongo.host &amp;&amp; mongo.database &amp;&amp; mongo.username &amp;&amp; mongo.password) { mongoUrl = 'mongodb://' + mongo.username + ':'; mongoUrl += mongo.password + '@'; mongoUrl += mongo.host + '/' + mongo.database; mongoose.connect(mongoUrl); mongoose.connection.on('error', function (err) { connected = true; if (!callback) { return { error: 'Could not connect to MongoDB; ' + err, mongo: null, }; } else { callback('Could not connect to MongoDB; ' + err, null); } }); mongoose.connection.on('open', function (ref) { connected = true; if (!callback) { return { error: null, mongo: mongoose.connection, }; } else { callback(null, mongoose.connection); } }); setTimeout(function () { if (!connected) { if (!callback) { return { error: 'Could not connect to MongoDB; ERROR: Timeout', mongo: null, }; } else { callback('Could not connect to MongoDB; ERROR: Timeout', null); } } }, 7500); } else { if (!callback) { return { error: 'Invalid credentials provided; Either (host+db)' + ' or (host+db+username+password) are allowed', mongo: null, }; } else { callback(null, null); } } }; /** * Get a false discussion list; for development only * * @return object **/ var getFalseDiscussionList = function () { var falseDiscussionList = { posts: [ { title: 'lol', slug: '1-test-discussion', start_username_id: '1', last_username: 'hola', replyCount: 0, tags: [ { color: 'red', label: 'Hi', }, { color: 'yellow', label: 'Bye', }, ], }, { title: 'hahaha', slug: '2-test-discussion', start_username: 'hola', last_username: 'datitisev', replyCount: 24, tags: [ { color: 'blue', label: 'Blue', }, { color: 'lightgray', label: 'General', }, ], }, ], }; return falseDiscussionList; }; /** * Throw an error without stopping nodejs program * * @param {String} message - message to debug * @param {Error} error - unexpected error, if any, that returned from the function * * @return false **/ var throwError = function (message, error) { debugError(message); if (error) debugError(error); return false; }; /** * Create the flarum/ directory * * @param {String} flarumFolderDirectory - the flarum/ folder directory * @param {Function} callback - callback for function * * @example {@lang javascript} * createFlarumFolder('/Users/Anonymous/FlarumJS/flarum', function (err) { * if (err) throw err; * // Do Something Else * }) **/ var createFlarumFolder = function (flarumFolderDirectory, callback) { fs.mkdir(flarumFolderDirectory, function (err) { if (err) { console.log('============================================================'); console.log('Error while trying to create flarum/ directory'); console.log(err); console.log('============================================================'); return callback(err); } callback(); }); }; /** * Create the config.json file in the flarum/ directory * * @param {String} flarumFolderDirectory - the flarum/ folder directory * @param {String} content - the content to write into config.json * @param {Function} callback - callback */ var createConfigFile = function (flarumFolderDirectory, content, callback) { if (typeof content === 'function' || !content || !callback) { callback = content || function () {}; content = '{}'; } fs.writeFile(path.join(flarumFolderDirectory, 'config.json'), content, function (err) { if (err) { console.log('============================================================'); console.log('Error while trying to create flarum/config.json file'); console.log(err); console.log('============================================================'); } callback(err); }); }; /** * Convert simple string to a valid url, or slug * * @param {String} text - text to convert to slug * * @return {String} text converted to valid url, or slug */ var sluglify = function (text) { return text.toString().toLowerCase() .replace(/\\s+/g, '-') // Replace spaces with - .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars .replace(/\\-\\-+/g, '-') // Replace multiple - with single - .replace(/^-+/, '') // Trim - from start of text .replace(/-+$/, ''); // Trim - from end of text } module.exports = { connectMongo: connectMongo, getFalseDiscussionList: getFalseDiscussionList, throwError: throwError, createFlarumFolder: createFlarumFolder, createConfigFile: createConfigFile, }; × Search results Close "},"config_passport.js.html":{"id":"config_passport.js.html","title":"Source: config/passport.js","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongothrowErrorcreateFlarumFoldercreateConfigFilesluglifygetFalseDiscussionListModelFindexecuteAngulargetDiscussionssignUplogIn Source: config/passport.js var passport = require('passport'); var LocalStrategy = require('passport-local').Strategy; var GithubStrategy = require('passport-github').Strategy; var debug = require('debug')('flarum:login'); var crypto = require('crypto'); var models = require('./../models'); var User = models.user; var ForumSettings = models.forum.settings; var ModelFind = models.find; var GetLatestId = models.latestId; var passportjs = require('./../config/passport'); var functions = require('./../config/functions'); var throwError = functions.throwError; /** * Function to set up passport strategies * * @param {String} forumPath - the forum's path * @param {Passport} passport - the passport.js object **/ module.exports = function (forumPath, passport) { passport.serializeUser(function(user, done) { done(null, user.username); }); passport.deserializeUser(function(username, done) { ModelFind(User, { 'username' : username }, function (err, user) { done(err, user[0]); }) }); passport.use('local-signup', new LocalStrategy({ usernameField: 'username', passwordField: 'password', passReqToCallback: true }, function (req, username, password, done) { process.nextTick(function () { ModelFind(User, { 'username': username }, function (err, user) { if (err) { throwError('[PASSPORT] SIGNUP: Error in ModelFind', err); done(err); } if (user &amp;&amp; user.length != 0) { return done('Username already exists', false); } else { ModelFind(User, { 'email': req.body.email }, function (err, user) { if (err) { throwError('[PASSPORT] SIGNUP: Error in 2nd ModelFind', err); done(err); } if (user &amp;&amp; user.length != 0) { return done('Email already exists', false); } else { var newUser = new User(); newUser.username = username; newUser.email = req.body.email; newUser.createdIn = new Date() newUser.password = newUser.generateHash(password); newUser.token = crypto.randomBytes(40).toString('hex'); GetLatestId(User, function (err, id) { if (err) done(err, null); newUser._id = id; newUser.save(function (err) { if (err) { debug(err); throwError('[PASSPORT] SIGNUP: Error @ saving new user', err); done(err); } return done(null, newUser); }) }) } }) } }) }) })); passport.use('local-login', new LocalStrategy({ passReqToCallback: true }, function (req, username, password, done) { User.findOne({ 'username': username }, function (err, user) { if (err) return done(err); if (!user || user.length == 0) return done('No user found', false); if (!user.password) return done('Sorry, this user signed up with social media, therefore has no password', false); if (!user.validPassword(password)) return done('Oops! Wrong password.', false); User.findOneAndUpdate({ 'username': username }, { 'lastLoggedIn': new Date() }, { new: true }, (err, user) =&gt; done(err, user)) }) })); ModelFind(ForumSettings, { name: 'auth.github.credentials' }, function (err, credentials) { if (err) return throwError('[PASSPORT] Get Credentials for GitHub', err); if (!credentials || !credentials.length) { debug('[GitHub] No credentials found!'); return false; } debug('[GitHub] Credentials Found!'); passport.use('github', new GithubStrategy({ clientID: credentials[0].content.clientID, clientSecret: credentials[0].content.clientSecret, callbackUrl: forumPath + 'auth/github/callback' }, function (accessToken, refreshToken, profile, done) { ModelFind(User, { 'github.id': profile.id }, function (err, user) { if (err) return done(err, user); if (user &amp;&amp; user.length &gt; 0) { User.findOneAndUpdate({ 'github.id' : profile.id }, { 'github.id' : profile.id, username: profile.username, avatar: profile.photos[0] &amp;&amp; profile.photos[0].value || null, lastLoggedIn: new Date() }, { upsert: true, new: true }, (err, user) =&gt; done(err, user)); } else { var newGithubUser = new User(); newGithubUser.github = {}; newGithubUser.github.id = profile.id; newGithubUser.username = profile.username; newGithubUser.avatar = profile.photos[0] &amp;&amp; profile.photos[0].value || null; newGithubUser.lastLoggedIn = new Date(); newGithubUser.createdIn = new Date(); newGithubUser.token = crypto.randomBytes(40).toString('hex'); GetLatestId(User, function (err, id) { if (err) return done(err, null); if (!id) return done('Something weird happened while trying to get a user ID for you', null); newGithubUser._id = id; newGithubUser.save(function (err, user) { throwError('[GitHub Sign In] ' + err); done(err, newGithubUser); }); }) } }) })) }) } × Search results Close "},"public_assets_angular_app.js.html":{"id":"public_assets_angular_app.js.html","title":"Source: public/assets/angular/app.js","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongothrowErrorcreateFlarumFoldercreateConfigFilesluglifygetFalseDiscussionListModelFindexecuteAngulargetDiscussionssignUplogIn Source: public/assets/angular/app.js /** * Executes the angular for the page * Used to get the forumPath &amp; user values * * @param {String} forumPath - the forum's path; ex: '/', '/forum' * @param {String} userToken - the user's token from req.user in lib/routes/index.js **/ function executeAngular (forumPath, userToken) { // var token = userToken || null; const pathname = document.location.pathname; if (pathname === forumPath + 'login' || pathname === forumPath + 'signup') { history.replaceState({}, 'Log In - FlarumJS', forumPath); } var app = angular.module('flarum', [ 'angularMoment' ]); app.config(function ($interpolateProvider) { $interpolateProvider.startSymbol('[['); $interpolateProvider.endSymbol(']]'); }); /** * Function to check if user is signed in * **/ var isLoggedIn = false; const checkIfLoggedIn = function () { // var http = new XMLHttpRequest(); http.onreadystatechange = function () { if (http.readyState == 4 &amp;&amp; http.status == 200) { var data = JSON.parse(http.responseText); console.log(data); if (!data.success) return false; isLoggedIn = true; } else if (http.readyState == 4 &amp;&amp; http.status == 500) { var data = http.responseText; errorToast('Oops! Something went wrong on the server. Please reload the page and try again.', data) } } http.open('POST', forumPath + 'api/login/checkCredentials', true); http.send('token=' + token); }; checkIfLoggedIn(); // TOASTR OPTIONS toastr.options.showMethod = 'fadeIn'; toastr.options.hideMethod = 'slideUp'; toastr.options.closeMethod = 'slideUp'; toastr.options.closeButton = true; toastr.options.showDuration = 1000; // 1s toastr.options.hideDuration = 1000; // 1s toastr.options.timeOut = 7500; // 7.5s toastr.options.extendedTimeOut = 10000; // 10s app.factory('flarumjsApi', function ($http) { return { getParameterByName: function (par, url) { if (!url) url = window.location.href; url = url.toLowerCase(); // This is just to avoid case sensitiveness par = par.replace(/[\\[\\]]/g, &quot;\\\\$&amp;&quot;).toLowerCase();// This is just to avoid case sensitiveness for query parameter name var regex = new RegExp(&quot;[?&amp;]&quot; + par + &quot;(=([^&amp;#]*)|&amp;|#|$)&quot;), results = regex.exec(url); if (!results) return null; if (!results[2]) return ''; return decodeURIComponent(results[2].replace(/\\+/g, &quot; &quot;)); }, getDiscussions: function (options, callback) { if (typeof options == 'function') { callback = options; options = {}; } $http({ method: 'GET', url: forumPath + 'api/discussions?q=' + options.q + '&amp;tag=' + options.tag }).then(function (response) { data = response.data; callback(null, data); return data; }, function (response) { var data = response.data; callback(data, data); return data; }) } } }); app.controller('DiscussionListController', [ 'flarumjsApi', '$http', function (flarumjsApi, $http) { var controller = this; var tag = document.location.pathname.indexOf('/t/') &gt;= 0 &amp;&amp; document.href.pathname.replace('/t/', '') || &quot;&quot;; /** * Gets the discussion list from the api and displays them * by using angularjs **/ // this.getDiscussions = function () { controller.loaded = false; flarumjsApi.getDiscussions({ tag: tag, q: flarumjsApi.getParameterByName('q') }, function (err, data) { if (err) { controller.noDiscussions = true; errorToast('Error while trying to get discussions!', err.error); } else if (data.posts) { controller.noDiscussions = false; controller.discussions = data.posts } else if (data.noPosts) { controller.noDiscussions = true; controller.discussions = []; } controller.loaded = true; }); } this.getDiscussions(); }]); app.controller('IndexSideNavController', [ '$http', '$document', function ($http, $document) { // var simplemde = new SimpleMDE({ element: document.getElementById(&quot;NewDiscussionContent&quot;), placeholder: 'Write a Post...' }); simplemde.codemirror.on(&quot;change&quot;, function () { controller.newDiscussionContent = marked(simplemde.value()); setTimeout(function () { Prism.highlightAll(true); }, 2500); }); var controller = this; controller.username = 'datitisev'; controller.closeNewDiscussionView = function () { if (controller.newDiscussionTitle || simplemde.value()) { if (confirm('You have not posted your discussion. \\n Are you sure you want to discard it?')) { controller.composerClass = ''; controller.composerDivClass = ''; controller.newDiscussionTitle = ''; simplemde.value(''); controller.showNewDiscussion = false; controller.hideNewDiscussion = false; } } else { controller.composerClass = ''; controller.composerDivClass = ''; } } controller.showNewDiscussionView = function () { if (!isLoggedIn) { errorToast('&lt;b&gt;Couldn\\'t Make A New Discussion&lt;/b&gt;&lt;br/&gt;You need to be logged in to be able to post a new discussion.') return false; } controller.postNewDiscussionError = false; controller.postNewDiscussionErrorMessage = ''; controller.newDiscussionTitleClass = ''; controller.newDiscussionContentClass = ''; controller.composerClass = 'show'; controller.composerDivClass = ''; controller.hideNewDiscussion = false; controller.showNewDiscussion = true; } controller.postNewDiscussion = function () { if (!isLoggedIn) { errorToast('&lt;b&gt;Couldn\\'t Make A New Discussion&lt;/b&gt;&lt;br/&gt;You need to be logged in to be able to post a new discussion.') return false; } controller.postNewDiscussionError = false; controller.postNewDiscussionErrorMessage = ''; controller.newDiscussionTitleClass = ''; controller.newDiscussionContentClass = ''; if (!controller.newDiscussionTitle || controller.newDiscussionTitle.length &lt; 10) { controller.postNewDiscussionError = true; controller.newDiscussionTitleClass = 'error'; controller.postNewDiscussionErrorMessage += 'The title is missing or it is too short&lt;br/&gt;Please be more specific with the title&lt;br/&gt;&lt;small&gt;Minimum 10 characters&lt;/small&gt;&lt;hr/&gt;'; } if (!controller.newDiscussionContent || controller.newDiscussionContent.length &lt; 30) { controller.postNewDiscussionError = true; controller.newDiscussionContentClass = 'error'; controller.postNewDiscussionErrorMessage += 'The content is missing or it is too short&lt;br/&gt;&lt;small&gt;Minimum 30 characters&lt;/small&gt;'; } if (controller.postNewDiscussionError) { errorToast('&lt;b&gt;Could Not Post Discussion:&lt;/b&gt;&lt;br/&gt;' + controller.postNewDiscussionErrorMessage); return false; } $http({ method: 'POST', url: forumPath + 'api/discussions', data: { token: token, title: controller.newDiscussionTitle, content: controller.newDiscussionContent } }).then(function (response) { console.log(response); }, function (response) { console.log(response); }); } }]); app.controller('DiscussionViewController', [ '$http', function ($http) { var controller = this; var slug = document.location.pathname.replace(forumPath, '/').replace('/d/', ''); var index = parseInt(slug.split('-')[0]) $http({ method: 'GET', url: forumPath + 'api/discussions/' + index, data: { index: index } }).then(function (response) { var data = response.data; if (data.postNotFound) { controller.postNotFound = true; return false; } if (data.error) { toastr.error(data.error, null, { allowHtml: true, positionClass: 'toast-bottom-left', toastClass: 'toast' }); } controller.post = data.post; }, function (response) { controller.loading = false; errorToast('Error while trying to get discussions!', data.error); }) }]); app.controller('SignController', [ '$http', function ($http) { var controller = this; /** * Function to sign up the user; * Uses AngularJS **/ this.signUp = function () { // var errors = ''; if (!controller.signup_username) errors += 'Please enter a username&lt;br/&gt;'; if (!controller.signup_email) errors += 'Please enter an email&lt;br/&gt;'; if (!controller.signup_password) errors += 'Please enter a password&lt;br/&gt;'; if (!controller.signup_passwordCheck) errors += 'Please reenter the password&lt;br/&gt;'; if (controller.signup_password &amp;&amp; controller.signup_passwordCheck &amp;&amp; controller.signup_password != controller.signup_passwordCheck) errors += 'Passwords do not match&lt;br/&gt;'; if (errors !== '') { errors = '&lt;b&gt;The following errors occured while trying to sign you up:&lt;/b&gt;&lt;br/&gt;' + errors; errorToast(errors); return false; } $http({ method: 'POST', url: forumPath + 'api/signup', data: { username: controller.signup_username, email: controller.signup_email, password: controller.signup_password, passwordCheck: controller.signup_passwordCheck } }).then(function (response) { data = response.data; if (data.errors.length &gt; 0) { errors += '&lt;b&gt;The following errors occured while trying to sign you up:&lt;/b&gt;&lt;br/&gt;'; for (var i = 0; i &lt; data.errors.length; i++) { errors += data.errors[i]; if (i == data.errors.length - 1) { errorToast(errors); } } return false; } document.location.assign(forumPath + 'auth/local/callback?username=' + controller.signup_username + '&amp;password=' + controller.signup_password); }, function (response) { var data = response.data; if (response.status === 401) { errors += '&lt;b&gt;The following errors occured while trying to sign you up:&lt;/b&gt;&lt;br/&gt;'; for (var i = 0; i &lt; data.errors.length; i++) { errors += data.errors[i]; if (i == data.errors.length - 1) { errorToast(errors); } } } }) } /** * Function to login in the user; * Uses AngularJS * - * First, Checks if valid credentials &amp; user exists. * If user doesn't exist, redirects user to /api/login to login. * If user exists, show error(s). **/ this.logIn = function () { // var errors = ''; if (!controller.signin_username) errors += 'Please enter a username&lt;br/&gt;'; if (!controller.signin_password) errors += 'Please enter a password&lt;br/&gt;'; if (errors.length &gt; 0) { errors = '&lt;b&gt;The following errors occured while trying to sign you up:&lt;/b&gt;&lt;br/&gt;' + errors; return errorToast(errors); } $http({ method: 'POST', url: forumPath + 'api/login', data: { username: controller.signin_username, password: controller.signin_password } }).then(function (response) { data = response.data; if (data.errors.length &gt; 0) { errors += '&lt;b&gt;The following errors occured while trying to sign you up:&lt;/b&gt;&lt;br/&gt;'; for (var i = 0; i &lt; data.errors.length; i++) { errors += data.errors[i]; if (i == data.errors.length - 1) { errorToast(errors); } } } document.location.assign(forumPath + 'auth/local/callback?username=' + controller.signin_username + '&amp;password=' + controller.signin_password); }, function (response) { var data = response.data; if (response.status == 401) { errors += '&lt;b&gt;The following errors occured while trying to sign you up:&lt;/b&gt;&lt;br/&gt;'; for (var i = 0; i &lt; data.errors.length; i++) { errors += data.errors[i]; if (i == data.errors.length - 1) { errorToast(errors); } } } }) } }]) var errorToast = function (message, error) { var html = `&lt;span class=\\&quot;Alert-body\\&quot; data-error=\\&quot;${error}\\&quot;&gt;${message}&lt;\\/span&gt;`; if (error) { html += &quot; &lt;ul class=\\&quot;Alert-controls\\&quot;&gt;&quot; + &quot; &lt;li&gt;&quot; + &quot; &lt;button class=\\&quot;Button Button--link\\&quot; type=\\&quot;button\\&quot;&gt;&lt;span class=\\&quot;Button-label\\&quot;&gt;Debug&lt;\\/span&gt;&quot; + &quot; &lt;\\/button&gt;&quot; + &quot; &lt;\\/li&gt;&quot; + &quot; &lt;\\/ul&gt;&quot;; } toastr.clear() toastr.error(html, null, { allowHtml: true, positionClass: 'toast-bottom-left', toastClass: 'toast', tapToDismiss: false, closeButton: true }); } } × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongothrowErrorcreateFlarumFoldercreateConfigFilesluglifygetFalseDiscussionListModelFindexecuteAngulargetDiscussionssignUplogIn Global Methods connectMongo(mongo, callback) Connect to mongodb via mongoose Parameters: Name Type Description mongo Object object containing host &amp; database; optional: username &amp; password callback function callback function Source: config/functions.js, line 15 Returns: object throwError(message, error) Throw an error without stopping nodejs program Parameters: Name Type Description message String message to debug error Error unexpected error, if any, that returned from the function Source: config/functions.js, line 173 Returns: false createFlarumFolder(flarumFolderDirectory, callback) Create the flarum/ directory Parameters: Name Type Description flarumFolderDirectory String the flarum/ folder directory callback function callback for function Source: config/functions.js, line 191 Example createFlarumFolder('/Users/Anonymous/FlarumJS/flarum', function (err) { if (err) throw err; // Do Something Else }) createConfigFile(flarumFolderDirectory, content, callback) Create the config.json file in the flarum/ directory Parameters: Name Type Description flarumFolderDirectory String the flarum/ folder directory content String the content to write into config.json callback function callback Source: config/functions.js, line 213 sluglify(text) Convert simple string to a valid url, or slug Parameters: Name Type Description text String text to convert to slug Source: config/functions.js, line 239 Returns: text converted to valid url, or slug Type String getFalseDiscussionList() Get a false discussion list; for development only Source: config/functions.js, line 125 Returns: object ModelFind(model, what, callback) Instead of Model.find(), uses Model.aggregate() to look for documents Supposedly &quot;learns&quot; from what it does... Parameters: Name Type Description model Schema the model to find the documents in; ex: User, ForumSetting what Object the object look for documents, aka Model.find(OBJECT), but using Model.match callback function callback function Source: models/index.js, line 114 Example ModelFind(User, { username: &quot;username&quot; }, function (err, user) { if (err) throw err; console.log(user); }) executeAngular(forumPath, userToken) Executes the angular for the page Used to get the forumPath &amp; user values Parameters: Name Type Description forumPath String the forum's path; ex: '/', '/forum' userToken String the user's token from req.user in lib/routes/index.js Source: public/assets/angular/app.js, line 9 getDiscussions() Gets the discussion list from the api and displays them by using angularjs Source: public/assets/angular/app.js, line 112 signUp() Function to sign up the user; Uses AngularJS Source: public/assets/angular/app.js, line 288 logIn() Function to login in the user; Uses AngularJS - First, Checks if valid credentials &amp; user exists. If user doesn't exist, redirects user to /api/login to login. If user exists, show error(s). Source: public/assets/angular/app.js, line 359 × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongothrowErrorcreateFlarumFoldercreateConfigFilesluglifygetFalseDiscussionListModelFindexecuteAngulargetDiscussionssignUplogIn node-flarum A forum made out of Flarum's design forum with NodeJS InstallationNPMnpm install node-flarum --saveLatest Stable Releasenpm install git+https://github.com/FlarumJS/node-flarum.git --saveLatest Releasenpm install git+https://github.com/FlarumJS/node-flarum.git#developUsageHTTPUsing the http package required the following modules to be installed: connect &amp; connect-hopeful-body-parser var http = require('http'); var connect = require('connect'); var bodyParser = require('connect-hopeful-body-parser'); var flarum = require('./index'); var app = connect(); app.use(bodyParser()); app.use(flarum); // You can only have flarum in root path, otherwise won't work http.createServer(app).listen(8080);Expressvar flarum = require('node-flarum'); var express = require('express'); var app = express(); // Other stuff app.use('/forum', flarum) // This will execute flarum on the &quot;/forum&quot; path app.use(flarum) // This will execute flarum on the root path Inline DocsOnlineVisit the FlarumJS Inline Docs Offline / LocallyInstall jsdoc by typing npm install jsdoc inside the node-flarum package folder. After installing jsdoc execute jsdoc -t ./node_modules/ink-docstrap/template -c docs.config.json -R README.md -r . -d ./docs in the project root and then open docs/index.html in your web browser ContributingWhenever this forum is complete [•••], there will be a website here for the official NodeJS Flarum forum Release History v0.0.1 - NPM Package Information v0.0.2 - Added Configuration Tweaks, fixed links and mongodb problems (Full Release Information) v0.0.3 - Added Sign Up &amp; Log In Options; Added inline documentation for the package (Full Release Information) v0.0.4 - Added Github Login; Added Ability to Create Discussions; Updated Schemas for the better; Etc... (Full Release Information) × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
