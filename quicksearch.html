<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"config_functions.js.html":{"id":"config_functions.js.html","title":"Source: config/functions.js","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongogetFalseDiscussionListModelFindthrowError Source: config/functions.js var mongoose = require('mongoose'); var debugError = require('debug')('flarum:error'); var connected; /** * Connect to mongodb via mongoose * * @param {Object} mongo - object containing host &amp; database; optional: username &amp; password * @param {Function} callback - callback function * * @return object **/ var connectMongo = function (mongo, callback) { connected = false; if (!mongo || typeof mongo !== 'object') return { error: 'INVALID ARGUMENTS: No &quot;mongo&quot; typeof object argument found', mongo: null } if (mongo.host &amp;&amp; mongo.database &amp;&amp; !mongo.username &amp;&amp; !mongo.password) { var mongoUrl = 'mongodb://' + mongo.host + '/' + mongo.database; mongoose.connect(mongoUrl); mongoose.connection.on('error', function (err) { connected = true; if (!callback) { return { error: 'Could not connect to MongoDB; ' + err, mongo: null } } else { callback('Could not connect to MongoDB; ' + err, null) } }); mongoose.connection.on('open', function (ref) { connected = true; if (callback) callback(null, mongoose.connection); return { error: null, mongo: true } }); setTimeout(function () { if (!connected) { if (!callback) { return { error: 'Could not connect to MongoDB; ERROR: Timeout', mongo: null } } else { callback('Could not connect to MongoDB; ERROR: Timeout', null); } } }, 7500) } else if (mongo.host &amp;&amp; mongo.database &amp;&amp; mongo.username &amp;&amp; mongo.password) { var mongoUrl = 'mongodb://' + mongo.username + ':'; mongoUrl += mongo.password + '@'; mongoUrl += mongo.host + '/' + mongo.database; mongoose.connect(mongoUrl); mongoose.connection.on('error', function (err) { connected = true; if (!callback) { return { error: 'Could not connect to MongoDB; ' + err, mongo: null } } else { callback('Could not connect to MongoDB; ' + err, null) } }); mongoose.connection.on('open', function (ref) { connected = true; if (!callback) { return { error: null, mongo: mongoose.connection } } else { callback(null, mongoose.connection) } }); setTimeout(function () { if (!connected) { if (!callback) { return { error: 'Could not connect to MongoDB; ERROR: Timeout', mongo: null } } else { callback('Could not connect to MongoDB; ERROR: Timeout', null); } } }, 7500) } else { if (!callback) { return { error: 'Invalid credentials provided; Either (host+db) or (host+db+username+password) are allowed', mongo: null } } { callback(null, null); } } } /** * Get a false discussion list; for development only * * @return object **/ var getFalseDiscussionList = function () { var falseDiscussionList = { posts: [ { title: 'lol', slug: '1-test-discussion', start_username: 'datitisev', last_username: 'hola', replyCount: 9, tags: [ { color: 'red', label: 'Hi' }, { color: 'yellow', label: 'Bye' } ] }, { title: 'hahaha', slug: '2-test-discussion', start_username: 'hola', last_username: 'datitisev', replyCount: 24, tags: [ { color: 'blue', label: 'Blue' }, { color: 'lightgray', label: 'General' } ] } ] } return falseDiscussionList; } /** * Throw an error without stopping nodejs program * * @param {String} message - message to debug * @param {Error} error - unexpected error, if any, that returned from the function * * @return false **/ var throwError = function (message, error) { debugError(message); if (error) debugError(error); return false; } module.exports = { connectMongo: connectMongo, getFalseDiscussionList: getFalseDiscussionList, throwError: throwError } × Search results Close "},"models_index.js.html":{"id":"models_index.js.html","title":"Source: models/index.js","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongogetFalseDiscussionListModelFindthrowError Source: models/index.js var mongoose = require('mongoose'); var Schema = mongoose.Schema; // var db = mongoose.connection; // var P = require('bluebird'); var shortid = require('shortid'); var bcrypt = require('bcrypt-nodejs'); var P = require('bluebird') var userSchema = new Schema({ name: String, username: String, email: String, password: String, id: Number, lastLoggedIn: String, createdIn: String, admin: Boolean, google: { id: String, token: String } }); /** * Generate hash for password, aka encrypt password * * @param {String} password - the password entered * * @return string **/ userSchema.methods.generateHash = function (password) { // return bcrypt.hashSync(password, bcrypt.genSaltSync(12), null); }; /** * Check if password entered is right * Compares encrypted password with entered password * * @param {String} password * * @return boolean * * @example {@lang javascript} * user.validPassword(&quot;pass1234&quot;) **/ userSchema.methods.validPassword = function (password) { // return bcrypt.compareSync(password, this.password); }; var forumSettingsSchema = new Schema({ name: String, description: String, content: Schema.Types.Mixed }); var forumTagsSchema = new Schema({ name: String, slug: String, description: String, color: String, default_sort: String, is_restricted: Boolean, is_hidden: Boolean, discussions_count: Number }); var forumPostsSchema = new Schema({ title: String, replyCount: Number, tags: Array, start_time: Date, start_user_id: Number, start_post_id: Number, last_time: Date, last_user_id: Number, last_post_id: Number, last_post_number: Number, is_approved: Boolean, is_locked: Boolean, is_sticky: Boolean, deleted: Boolean, deletedForever: Boolean }); // SCHEMAS var User = mongoose.model('User', userSchema); var ForumSetting = mongoose.model('ForumSetting', forumSettingsSchema); var ForumTag = mongoose.model('ForumTag', forumTagsSchema); var ForumPost = mongoose.model('ForumPost', forumPostsSchema); /** * Instead of Model.find(), uses Model.aggregate() to look for documents * Supposedly &quot;learns&quot; from what it does... * * @param {Schema} model - the model to find the documents in; ex: User, ForumSetting * @param {Object} what - the object look for documents, aka Model.find(OBJECT), but using Model.match * @param {Function} callback - callback function * * @example {@lang javascript} * ModelFind(User, { username: &quot;username&quot; }, function (err, user) { * if (err) throw err; * console.log(user); * }) **/ var ModelFind = function (model, what, callback) { // P.resolve(model.aggregate().match(what).exec()).then(function (doc) { callback(null, doc) }).catch(function (err) { callback(err, null) }); } module.exports = { user: User, forum: { settings: ForumSetting, tags: ForumTag, posts: ForumPost }, find: ModelFind }; × Search results Close "},"global.html":{"id":"global.html","title":"Global","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongogetFalseDiscussionListModelFindthrowError Global Methods connectMongo(mongo, callback) Connect to mongodb via mongoose Parameters: Name Type Description mongo Object object containing host &amp; database; optional: username &amp; password callback function callback function Source: config/functions.js, line 13 Returns: object getFalseDiscussionList() Get a false discussion list; for development only Source: config/functions.js, line 103 Returns: object ModelFind(model, what, callback) Instead of Model.find(), uses Model.aggregate() to look for documents Supposedly &quot;learns&quot; from what it does... Parameters: Name Type Description model Schema the model to find the documents in; ex: User, ForumSetting what Object the object look for documents, aka Model.find(OBJECT), but using Model.match callback function callback function Source: models/index.js, line 108 Example ModelFind(User, { username: &quot;username&quot; }, function (err, user) { if (err) throw err; console.log(user); }) throwError(message, error) Throw an error without stopping nodejs program Parameters: Name Type Description message String message to debug error Error unexpected error, if any, that returned from the function Source: config/functions.js, line 152 Returns: false × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" FlarumJS/Node-Flarum Inline Documentation Global connectMongogetFalseDiscussionListModelFindthrowError node-flarum A forum made out of Flarum's design forum with NodeJS Installationnpm install node-flarum --saveUsageHTTPUsing the http package required the following modules to be installed: connect &amp; connect-hopeful-body-parser var http = require('http'); var connect = require('connect'); var bodyParser = require('connect-hopeful-body-parser'); var flarum = require('./index'); var app = connect(); app.use(bodyParser()); app.use(flarum); // You can only have flarum in root path, otherwise won't work http.createServer(app).listen(8080);Expressvar flarum = require('node-flarum'); var express = require('express'); var app = express(); // Other stuff app.use('/forum', flarum) // This will execute flarum on the &quot;/forum&quot; path app.use(flarum) // This will execute flarum on the root pathContributingWhenever this forum is complete [•••], there will be a website here for the official NodeJS Flarum forum Release History v0.0.1-beta.1 - NPM Package Information v0.0.1.beta.2 - Added Configuration Tweaks, fixed links and mongodb problems (Full Release Information) v0.0.1-beta.3 - Added Sign Up &amp; Log In Options (Full Release Information) × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
